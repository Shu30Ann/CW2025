<?import com.comp2042.GameOverPanel?>
<?import javafx.scene.Group?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import java.net.URL?>

<Pane fx:controller="com.comp2042.GuiController"
      xmlns:fx="http://javafx.com/fxml"
      prefWidth="600" prefHeight="800">

    <!-- ðŸ‘‡ Everything drawn here -->
    <Group fx:id="gameCanvas">

        <!-- ðŸŸ¦ Main game background (blue bordered area) -->
        <GridPane fx:id="gamePanel"
                  hgap="1" vgap="1"
                  style="-fx-background-color: lightblue; -fx-border-color: blue; -fx-border-width: 4;"/>

        
        <GridPane fx:id="ghostPanel" hgap="1" vgap="1" mouseTransparent="true"/>
        
        <!-- ðŸ§± Falling brick layer -->
        <GridPane fx:id="brickPanel" vgap="1" hgap="1"/>   

        <!-- ðŸŸ¨ Hold and Next block container -->
        <VBox fx:id="sidePanel" layoutX="430" layoutY="20" spacing="20" alignment="CENTER">

            <!-- Hold block with label -->
            <VBox spacing="5" alignment="CENTER">
                <Label text="HOLD" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;"/>
                <StackPane fx:id="holdBlockBox"
                        prefWidth="120" prefHeight="120"
                        style="-fx-background-color: rgba(0,0,0,0.3); -fx-border-color: white; -fx-border-width: 2;">
                    <GridPane fx:id="holdShapePanel" hgap="1" vgap="1" alignment="CENTER"/>
                </StackPane>
            </VBox>

            <!-- Next block with label -->
            <VBox spacing="5" alignment="CENTER">
                <Label text="NEXT" style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;"/>
                <StackPane fx:id="nextBlockBox"
                        prefWidth="120" prefHeight="120"
                        style="-fx-background-color: rgba(0,0,0,0.3); -fx-border-color: white; -fx-border-width: 2;">
                    <GridPane fx:id="nextShapePanel" hgap="1" vgap="1" alignment="CENTER"/>
                </StackPane>
            </VBox>

        </VBox>


        <!-- ðŸ’¬ Notification group (score popups, pause, etc.) -->
        <Group fx:id="groupNotification" layoutX="14" layoutY="20">
            <VBox alignment="CENTER">
                <GameOverPanel fx:id="gameOverPanel"/>
            </VBox>
        </Group>

    </Group>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>
</Pane>
