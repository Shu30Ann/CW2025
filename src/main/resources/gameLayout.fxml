<?import com.comp2042.GameOverPanel?>
<?import javafx.scene.Group?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import java.net.URL?>

<AnchorPane fx:controller="com.comp2042.GuiController"
            xmlns:fx="http://javafx.com/fxml"
            prefWidth="900" prefHeight="720">

    <!-- Main horizontal layout: game board (left) and info panel (right) -->
    <HBox spacing="18" AnchorPane.topAnchor="12" AnchorPane.leftAnchor="12" AnchorPane.rightAnchor="12" AnchorPane.bottomAnchor="12">

        <!-- Center game area card -->
        <StackPane HBox.hgrow="ALWAYS" styleClass="board-card">
            <VBox alignment="CENTER" spacing="10">
                <Group fx:id="gameCanvas">

                    <!-- Main game background area -->
                    <GridPane fx:id="gamePanel" styleClass="gameBoard" hgap="1" vgap="1"/>

                    <!-- Ghost and brick layers sit on top -->
                    <GridPane fx:id="ghostPanel" hgap="1" vgap="1" mouseTransparent="true"/>
                    <GridPane fx:id="brickPanel" vgap="1" hgap="1"/>

                    <!-- Notification / overlays -->
                    <Group fx:id="groupNotification">
                        <VBox alignment="CENTER">
                            <GameOverPanel fx:id="gameOverPanel"/>
                        </VBox>
                    </Group>

                </Group>
            </VBox>
        </StackPane>

        <!-- Right side info column -->
        <VBox prefWidth="260" spacing="12" styleClass="side-panel">

            <!-- Score card -->
            <VBox spacing="6" styleClass="info-card">
                <Label text="SCORE" styleClass="label-title"/>
                <Label fx:id="scoreLabel" text="0" styleClass="value-large"/>
                <Label text="Lines Cleared: " styleClass="small-muted"/>
                <Label fx:id="linesLabel" text="0" styleClass="small-muted"/>
            </VBox>

            <!-- Hold card -->
            <VBox spacing="6" styleClass="info-card centered">
                <Label text="HOLD" styleClass="label-title"/>
                <StackPane fx:id="holdBlockBox" prefWidth="140" prefHeight="120" styleClass="holdBrick">
                    <GridPane fx:id="holdShapePanel" hgap="1" vgap="1" alignment="CENTER"/>
                </StackPane>
            </VBox>

            <!-- Next card -->
            <VBox spacing="6" styleClass="info-card centered">
                <Label text="NEXT" styleClass="label-title"/>
                <StackPane fx:id="nextBlockBox" prefWidth="140" prefHeight="120" styleClass="nextBrick">
                    <GridPane fx:id="nextShapePanel" hgap="1" vgap="1" alignment="CENTER"/>
                </StackPane>
            </VBox>

            <!-- Controls / help -->
            <VBox spacing="8" styleClass="info-card">
                <Label text="CONTROLS" styleClass="label-title"/>
                <Label text="← → : Move | ↑ : Rotate | ↓ : Soft drop" styleClass="small-muted"/>
                <Label text="Space: Hard drop | P: Pause" styleClass="small-muted"/>
            </VBox>

        </VBox>

    </HBox>

    <stylesheets>
        <URL value="@window_style.css"/>
    </stylesheets>

</AnchorPane>
